{% extends 'homepage/base.html' %}
{% block title %}{{ product.title }}{% endblock %}
{% block body %}
{% include 'homepage/navbar.html' %}
<div class="bg-light py-3">
    <div class="container">
        <div class="row">
            <div class="col-md-12 mb-0"><a href="{% url 'homepage' %}">Home</a> <span class="mx-2 mb-0">/</span> <a
                    href="{% url 'shop' %}">Shop</a> <span class="mx-2 mb-0">/</span> <strong class="text-black">{{ product.title }}</strong></div>
        </div>
    </div>
</div>
<div class="mx-auto mt-3 mb-2">
  {% if messages %}
  {% for message in messages %}
    <div class="alert {% if message.tags %} alert-{{ message.tags }} {% endif %} alert-dismissible fade show" role="alert">
        <center>{{ message }}</center>
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
{% endfor %}
{% endif %}
</div>
<div class="site-section">
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                    <div class="carousel-inner">
                        {% for productimg in product.images.all %}
                        <div class="carousel-item active">
                            <img class="d-block w-100" src="{{ productimg.main.url }}" alt="First slide">
                        </div>
                        {% if productimg.color1 %}
                        <div class="carousel-item">
                            <img class="d-block w-100" src="{{ productimg.color1.url }}" alt="Second slide">
                        </div>
                        {% endif %}
                        {% if productimg.color2 %}
                        <div class="carousel-item">
                            <img class="d-block w-100" src="{{ productimg.color2.url }}" alt="Second slide">
                        </div>
                        {% endif %}
                        {% if productimg.color3 %}
                        <div class="carousel-item">
                            <img class="d-block w-100" src="{{ productimg.color3.url }}" alt="Second slide">
                        </div>
                        {% endif %}
                        <div class="carousel-item">
                            <img class="d-block w-100" src="{{ productimg.back.url }}" alt="Third slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100" src="{{ productimg.chart.url }}" alt="Third slide">
                        </div>
                        {% endfor %}
                    </div>
                    <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
            <div class="col-md-6">
                <h2 class="text-black">{{ product.title }}</h2>
                <h5>Hand Sleve Crew Neck</h5>
                {% if product.color1 %}
                <h6 class="card-text colors text-secondary">Available colors</h6>
                <svg class="bi bi-circle-fill mb-2" onclick="functionAlert();" width="1.5em" height="1.5em"
                     viewBox="0 0 16 16" fill="{{ product.color1 }}" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="8" cy="8" r="8"/>
                </svg>
                {% endif %}
                {% if product.color2 %}
                <svg class="bi bi-circle-fill mb-2" width="1.5em" height="1.5em" viewBox="0 0 16 16"
                     fill="{{ product.color2 }}" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="8" cy="8" r="8"/>
                </svg>
                {% endif %}
                {% if product.color3 %}
                <svg class="bi bi-circle-fill mb-2" width="1.5em" height="1.5em" viewBox="0 0 16 16"
                     fill="{{ product.color3 }}" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="8" cy="8" r="8"/>
                </svg>
                {% endif %}<br>
                <p>{{ product.description }}.</p>
                <p><strong class="text-primary h4">Rs.{{ product.price }}</strong></p>
                <form action="{% url 'add_to_cart' product.slug %}" method="POST">
                    <label for="color"><h5>Select color</h5></label>
                    <select required name="color" id="color">
                        <option value="none">None</option>
                        {% if product.color1 %}
                        <option value="{{ product.color1 }}">{{ product.color1 }}</option>
                        {% endif %}
                        {% if product.color2 %}
                        <option value="{{ product.color2 }}">{{ product.color2 }}</option>
                        {% endif %}
                        {% if product.color3 %}
                        <option value="{{ product.color3 }}">{{ product.color3 }}</option>
                        {% endif %}
                    </select><br>
                    <label required for="size"><h5>Your size</h5></label>
                    <select class="ml-4" name="size" id="size">
                        <option value="none">None</option>
                        <option value="S">Small</option>
                        <option value="M">Medium</option>
                        <option value="L">Large</option>
                        <option value="XL">X-Large</option>
                    </select>
                    <a href="#" class=" btn " onclick="chartalert();">What's your size?</a>
                    <div class="mb-5">
                        <div class="input-group mb-3" style="max-width: 120px;">
                            <div class="input-group-prepend">
                                <button class="btn btn-outline-primary js-btn-minus" type="button">&minus;</button>
                            </div>
                            <input name="quantity" type="text" class="form-control text-center" value="1" placeholder=""
                                   aria-label="Example text with button addon" aria-describedby="button-addon1">
                            <div class="input-group-append">
                                <button class="btn btn-outline-primary js-btn-plus" type="button">&plus;</button>
                            </div>
                        </div>
                        {% csrf_token %}
                    </div>
                    <div class="row">
                        <p>
                            <button value="addtocart" name="btn" type="submit"
                                    class="buy-now ml-3 btn btn-sm height-auto px-4 mr-1 py-3 btn-primary">Add to Cart
                            </button>
                        </p>
                        <p>
                            <button value="buynow" name="btn"
                                    class="buy-now btn btn-sm height-auto px-4 ml-1 py-3 btn-primary" type="submit">Buy
                                Now
                            </button>
                        </p>
                        <!--            <p><a href="cart.html" class="buy-now btn btn-sm height-auto px-4 mr-1 py-3 btn-primary">Add To Cart</a></p>-->
                        <!--            <p><a href="cart.html" class="buy-now btn btn-sm height-auto px-4 ml-1 py-3 btn-primary">Buy Now</a></p>-->
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<script>
function chartalert(){
    Swal.fire({
  {% for productimg in product.images.all %}
  imageUrl: '{{ productimg.chart.url }}',
  {% endfor %}
  imageWidth: 300,
  imageHeight: 400,
  imageAlt: 'Custom image',
})
}

</script>
{% endblock %}



